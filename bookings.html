<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookings - Precious Meals & Bakes</title>
    <meta name="description" content="Book your catering services with Precious Meals & Bakes">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Baskerville&display=swap" rel="stylesheet">
    <!-- AOS Animation Library -->
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="./css/style.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <style>
        body {
            font-family: 'Baskerville', serif;
            background: url('./img/image26.jpg') no-repeat center center fixed;
            background-size: cover;
            background-attachment: fixed;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        /* Header Styling */
        header {
            position: relative;
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .navbar {
            position: sticky;
            top: 0;
            width: 100%;
            background-color: #B9484E;
            color: white;
            padding: 8px 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 900;
            height: 50px;
        }

        .navbar-brand img {
            height: 40px;
            margin-right: 10px;
        }

        .navbar-nav .nav-link {
            color: #fff;
            font-weight: bold;
            margin: 0 10px;
            font-size: 0.9rem;
        }

        .navbar-nav .nav-link:hover {
            color: #d8bc70;
        }

        .navbar-nav .active {
            color: #d8bc70 !important;
        }

        /* Highlight text color */
        .highlight-text {
            color: #d8bc70;
        }

        /* Form Styling */
        .form-container {
            margin: 50px auto;
            padding: 40px;
            max-width: 600px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .form-section .mb-3 {
            margin-bottom: 1rem;
        }

        .form-label {
            font-weight: bold;
            color: #333;
        }

        .btn-primary {
            background-color: #af8958;
            border: none;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #d8bc70;
            transform: scale(1.02);
        }

        /* Call button styling */
        .call-btn {
            background-color: #d8bc70;
            color: white;
            font-weight: bold;
            border-radius: 25px;
            padding: 5px 20px;
            font-size: 14px;
            text-decoration: none;
        }

        .call-btn:hover {
            background-color: #c9ad61;
            color: white;
        }

        /* Card and section styling */
        .card {
            border: none;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        /* Footer styling */
        footer {
            background-color: #B9484E;
            color: white;
            padding: 40px 0 20px;
        }

        footer a.text-white {
            text-decoration: none;
        }

        footer a.text-white:hover {
            color: #d8bc70 !important;
            text-decoration: underline;
        }

        /* Social links */
        .social-links a {
            color: white;
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .social-links a:hover {
            color: #d8bc70;
        }

        /* My Bookings table */
        .bookings-table {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        /* AOS animations */
        [data-aos] {
            pointer-events: none;
        }

        [data-aos].aos-animate {
            pointer-events: auto;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="./index.html">
                    <img src="./img/pmb.png" alt="Precious Meals & Bakes Logo">
                    <b class="highlight-text">Precious Meals & Bakes</b>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="./index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./about-us.html">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./services.html">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./gallery.html">Gallery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./why-us.html">Why Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./bookings.html">Book Today</a>
                        </li>
                    </ul>
                    <!-- Auth buttons (shown when logged out) -->
                    <div class="auth-buttons">
                        <button type="button" class="btn btn-secondary ms-2" data-bs-toggle="modal" data-bs-target="#authModal">
                            Login/Register
                        </button>
                    </div>
                    <!-- User menu (shown when logged in) -->
                    <div class="user-menu d-none">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-person-circle me-1"></i> <span class="user-name">User</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="#" id="viewBookingsBtn">My Bookings</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" id="logoutBtn">Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Page Title -->
    <div class="container py-5">
        <div class="row">
            <div class="col-12 text-center" data-aos="fade-up">
                <h1 class="mb-4">Book Your <span class="highlight-text">Event</span></h1>
                <p class="lead">Fill out the form below to request catering services for your special occasion</p>
            </div>
        </div>
    </div>

    <!-- Booking Section -->
    <section id="booking" style="background-color: rgba(255, 255, 255, 0.8); padding: 30px 0; border-radius: 10px;">
        <div class="container py-5">
            <!-- Success Message -->
            <div id="bookingSuccessMessage" class="alert alert-success text-center mb-4 d-none">
                <i class="bi bi-check-circle-fill me-2"></i> Your booking request has been submitted successfully! We will contact you shortly to confirm your booking.
            </div>

            <!-- Login Prompt (shown when not logged in) -->
            <div id="loginPrompt" class="text-center mb-5 d-none">
                <div class="card shadow p-4" data-aos="fade-up">
                    <div class="card-body">
                        <h3 class="card-title mb-4">Login Required</h3>
                        <p class="card-text">Please log in or register to make a booking.</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#authModal">
                            <i class="bi bi-box-arrow-in-right me-2"></i> Login / Register
                        </button>
                    </div>
                </div>
            </div>

            <!-- Booking Form -->
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card shadow" data-aos="fade-up" data-aos-delay="100">
                        <div class="card-body p-5">
                            <h2 class="card-title text-center mb-4">Booking Form</h2>
                            
                            <!-- Availability Message -->
                            <div id="availabilityMessage" class="alert alert-warning mb-4 d-none"></div>
                            
                            <!-- Booking Form -->
                            <form id="bookingForm">
                                <!-- Personal Information -->
                                <div class="mb-4">
                                    <h5>Personal Information</h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label for="fullName" class="form-label">Full Name*</label>
                                            <input type="text" class="form-control" id="fullName" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="email" class="form-label">Email Address*</label>
                                            <input type="email" class="form-control" id="email" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="phone" class="form-label">Phone Number*</label>
                                            <input type="tel" class="form-control" id="phone" required>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Event Details -->
                                <div class="mb-4">
                                    <h5>Event Details</h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label for="eventType" class="form-label">Event Type*</label>
                                            <select class="form-select" id="eventType" required>
                                                <option value="" selected disabled>Select event type</option>
                                                <option value="Wedding">Wedding</option>
                                                <option value="Corporate Event">Corporate Event</option>
                                                <option value="Birthday Party">Birthday Party</option>
                                                <option value="Anniversary">Anniversary</option>
                                                <option value="Graduation">Graduation</option>
                                                <option value="Other">Other</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="guestCount" class="form-label">Number of Guests*</label>
                                            <input type="number" class="form-control" id="guestCount" min="10" max="500" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="eventDate" class="form-label">Event Date*</label>
                                            <input type="date" class="form-control" id="eventDate" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="timeSlot" class="form-label">Time Slot*</label>
                                            <select class="form-select" id="timeSlot" required>
                                                <option value="" selected disabled>Select date first</option>
                                            </select>
                                        </div>
                                        <div class="col-12">
                                            <label for="specialRequests" class="form-label">Special Requests</label>
                                            <textarea class="form-control" id="specialRequests" rows="4" placeholder="Please list any dietary requirements, special needs, or other requests"></textarea>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Terms and Submit -->
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="termsCheck" required>
                                    <label class="form-check-label" for="termsCheck">
                                        I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">terms and conditions</a>
                                    </label>
                                </div>
                                
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="bi bi-calendar-check me-2"></i>Submit Booking Request
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- My Bookings Section (Hidden by default) -->
    <section id="myBookingsContainer" class="container py-5 d-none">
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2><i class="bi bi-calendar3 me-2"></i>My Bookings</h2>
                    <button id="backToBookingBtn" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left me-2"></i>Back to Booking
                    </button>
                </div>
                
                <!-- No Bookings Message -->
                <div id="noBookingsMessage" class="alert alert-info text-center d-none">
                    <i class="bi bi-info-circle me-2"></i> You don't have any bookings yet.
                </div>
                
                <!-- Bookings Table -->
                <div class="table-responsive bookings-table">
                    <table class="table table-hover" id="bookingsTable">
                        <thead class="table-light">
                            <tr>
                                <th>Event Date</th>
                                <th>Event Type</th>
                                <th>Time</th>
                                <th>Guests</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookingsList">
                            <!-- Booking rows will be added here by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Authentication Modal -->
    <div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="authModalLabel">Account Access</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Auth Message -->
                    <div id="authMessage" class="alert d-none"></div>
                    
                    <!-- Login Form -->
                    <div id="loginFormContainer">
                        <form id="loginForm">
                            <div class="mb-3">
                                <label for="loginEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="loginEmail" required>
                            </div>
                            <div class="mb-3">
                                <label for="loginPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="loginPassword" required>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Login</button>
                            </div>
                        </form>
                        <hr>
                        <p class="text-center">Don't have an account? <a href="#" id="showRegisterBtn">Register</a></p>
                    </div>
                    
                    <!-- Register Form -->
                    <div id="registerFormContainer" class="d-none">
                        <form id="registerForm">
                            <div class="mb-3">
                                <label for="registerName" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="registerName" required>
                            </div>
                            <div class="mb-3">
                                <label for="registerEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="registerEmail" required>
                            </div>
                            <div class="mb-3">
                                <label for="registerPhone" class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" id="registerPhone" required>
                            </div>
                            <div class="mb-3">
                                <label for="registerPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="registerPassword" required minlength="6">
                            </div>
                            <div class="mb-3">
                                <label for="confirmPassword" class="form-label">Confirm Password</label>
                                <input type="password" class="form-control" id="confirmPassword" required minlength="6">
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Register</button>
                            </div>
                        </form>
                        <hr>
                        <p class="text-center">Already have an account? <a href="#" id="showLoginBtn">Login</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Details Modal -->
    <div class="modal fade" id="bookingDetailsModal" tabindex="-1" aria-labelledby="bookingDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingDetailsModalLabel">Booking Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="bookingDetailsContent">
                        <!-- Booking details will be added here by JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>Booking Terms</h6>
                    <p>By making a booking with Precious Meals & Bakes, you agree to the following terms:</p>
                    <ul>
                        <li>All bookings are subject to availability and confirmation</li>
                        <li>A 50% deposit is required to secure your booking</li>
                        <li>Cancellations must be made at least 72 hours in advance for a full refund</li>
                        <li>Final guest count must be confirmed 48 hours before the event</li>
                        <li>Any changes to the menu must be requested at least 5 days before the event</li>
                        <li>Pricing is subject to change based on specific requirements and seasonal availability</li>
                    </ul>
                    <h6>Privacy Policy</h6>
                    <p>We respect your privacy and will only use your information to process your booking and to communicate with you about your event. We will never share your personal information with third parties without your consent.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="pt-5 pb-3">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5>Precious Meals & Bakes</h5>
                    <p>Your premier catering partner for all occasions. We serve with passion and dedication.</p>
                    <div class="social-links mt-3">
                        <a href="https://www.facebook.com/preciousmealsnbakes/" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="https://www.instagram.com/iamazwchef/" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="https://www.tiktok.com/@preciousmeals3" aria-label="TikTok"><i class="bi bi-tiktok"></i></a>
                        <a href="https://wa.me/c/263719448084" aria-label="WhatsApp"><i class="bi bi-whatsapp"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="./index.html" class="text-white">Home</a></li>
                        <li><a href="./about-us.html" class="text-white">About Us</a></li>
                        <li><a href="./services.html" class="text-white">Services</a></li>
                        <li><a href="./gallery.html" class="text-white">Gallery</a></li>
                        <li><a href="./why-us.html" class="text-white">Why Us</a></li>
                        <li><a href="./bookings.html" class="text-white">Book Today</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Contact Us</h5>
                    <p><i class="bi bi-telephone-fill me-2"></i> <a href="tel:+263719448084" class="text-white">+263 719 448 084</a></p>
                    <p><i class="bi bi-envelope-fill me-2"></i> <a href="mailto:preciousmealszw@gmail.com" class="text-white">preciousmealszw@gmail.com</a></p>
                    <p><i class="bi bi-geo-alt-fill me-2"></i> Harare, Zimbabwe</p>
                </div>
            </div>
            <hr class="my-4 bg-white">
            <div class="text-center">
                <p>&copy; 2023-2025 Precious Meals & Bakes. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- AOS Animation Library -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="./js/auth.js"></script>
    <script src="./js/booking.js"></script>

    <script>
        // Initialize AOS animations
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
        
        // Toggle between booking form and my bookings
        document.addEventListener('DOMContentLoaded', function() {
            const viewBookingsBtn = document.getElementById('viewBookingsBtn');
            const backToBookingBtn = document.getElementById('backToBookingBtn');
            const bookingSection = document.getElementById('booking');
            const myBookingsContainer = document.getElementById('myBookingsContainer');
            
            if (viewBookingsBtn && backToBookingBtn && bookingSection && myBookingsContainer) {
                viewBookingsBtn.addEventListener('click', function() {
                    bookingSection.classList.add('d-none');
                    myBookingsContainer.classList.remove('d-none');
                    // Load bookings
                    BookingSystem.loadUserBookings();
                });
                
                backToBookingBtn.addEventListener('click', function() {
                    myBookingsContainer.classList.add('d-none');
                    bookingSection.classList.remove('d-none');
                });
            }
        });
    </script>
</body>
</html>
